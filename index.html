<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>114-1 高一化學期中考解析網 Designed by 義雄愛徒石謙信</title>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- KaTeX for Math Rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>

    <!-- Icons (Lucide) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f3f4f6;
        }

        .katex {
            font-size: 1.1em;
        }

        .explanation-text h4 {
            font-weight: bold;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
            color: #1e3a8a;
        }

        .explanation-text p {
            margin-bottom: 0.5em;
            line-height: 1.7;
        }

        .explanation-text ul {
            list-style-type: disc;
            padding-left: 1.5em;
            margin-bottom: 0.5em;
        }

        .explanation-text li {
            margin-bottom: 0.25em;
        }

        .explanation-text .step {
            font-weight: bold;
            color: #4b5563;
            margin-top: 0.5em;
            display: block;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- 1. Static Data (Expanded Explanations) ---
        const staticQuestions = [
            {
                id: "q01", number: 1, type: "單選",
                question: "取 3.2 克的 TiO2 於氫氣中受熱，失去部分的氧，質量減少 0.32 克，形成另一種氧化物，則此氧化物之化學式為何？",
                answer: "C",
                explanation: `
#### 解題思路：
利用原子守恆，計算反應後鈦(Ti)與氧(O)的莫耳數比。

1.  **步驟一：計算鈦 (Ti) 的莫耳數**
    * $TiO_2$ 的式量 = $48 + 16 \\times 2 = 80$。
    * 樣品中 $TiO_2$ 為 3.2 克，其中鈦的莫耳數不變：
    $$n_{Ti} = \\frac{3.2}{80} = 0.04 \\text{ mol}$$

2.  **步驟二：計算剩餘氧 (O) 的質量與莫耳數**
    * **原有的氧重**：$1 \\text{ mol } TiO_2$ 含 32g 氧，故 0.04 mol 含氧 $0.04 \\times 32 = 1.28 \\text{ g}$。
    * **失去的氧重**：題目指出質量減少 0.32 克，此即為失去的氧原子質量。
    * **剩餘的氧重**：$1.28 - 0.32 = 0.96 \\text{ g}$。
    * **剩餘氧莫耳數**：
    $$n_{O(剩餘)} = \\frac{0.96}{16} = 0.06 \\text{ mol}$$

3.  **步驟三：推導化學式**
    * 原子個數比 $Ti : O = 0.04 : 0.06 = 2 : 3$。
    * 故新氧化物化學式為 **$Ti_2O_3$**。
                `
            },
            {
                id: "q02", number: 2, type: "單選",
                question: "僅含有 C、H、O 之某二物實驗結果其元素的重量百分組成相同，同狀況下的蒸氣密度亦相同，但熔點、沸點有顯著差異，則可判斷此二物何者不同？",
                answer: "B",
                explanation: `
#### 觀念解析：
這題在考化學式的定義與同分異構物的概念。

* **1. 實驗式 (Empirical Formula) 相同**：
    題目說「元素的重量百分組成相同」，代表原子個數的最簡整數比相同，因此**實驗式相同**。
    
* **2. 分子式 (Molecular Formula) 相同**：
    題目說「同溫同壓下蒸氣密度相同」，根據 $PM=dRT$，密度 $d$ 與分子量 $M$ 成正比。
    既然實驗式相同且分子量相同，代表分子內原子總數也相同，因此**分子式相同**。

* **3. 結構式 (Structural Formula) 不同**：
    題目說「熔點、沸點有顯著差異」，代表這是兩種不同的物質。
    分子式相同但性質不同，這就是**同分異構物 (Isomers)**。它們的差異在於原子的排列結合方式不同，也就是**結構式**不同。

**結論**：不同之處為 (B) 結構式。
                `
            },
            {
                id: "q03", number: 3, type: "單選",
                question: "試問完全電解 90 公斤的水，可產生氫氣多少公斤？",
                answer: "D",
                explanation: `
#### 解題思路：
利用化學反應式的係數比計算產物品質。

1.  **步驟一：寫出反應式**
    $$2H_2O \\rightarrow 2H_2 + O_2$$
    係數比 $H_2O : H_2 = 2 : 2 = 1 : 1$。
    代表消耗 1 莫耳的水，會產生 1 莫耳的氫氣。

2.  **步驟二：計算水的莫耳數**
    * 質量 $90 \\text{ kg} = 90,000 \\text{ g}$。
    * 水 ($H_2O$) 分子量 = 18。
    $$n_{H_2O} = \\frac{90000}{18} = 5000 \\text{ mol}$$

3.  **步驟三：計算氫氣質量**
    * 因為莫耳數比 1:1，故產生氫氣也是 5000 mol。
    * 氫氣 ($H_2$) 分子量 = 2。
    * 氫氣質量 = $5000 \\times 2 = 10,000 \\text{ g} = \\mathbf{10 \\text{ kg}}$。
                `
            },
            {
                id: "q04", number: 4, type: "單選",
                question: "反應 aA + bB → cC + dD，分子量 A=30, B=60, C=90。欲生成 100 克 D，至少需要 A 若干克？",
                answer: "A",
                explanation: `
#### 解題思路：
這題無法直接用莫耳數算，因為不知道 D 的分子量。必須利用「質量守恆定律」。

1.  **步驟一：找出反應質量的比例關係**
    假設反應了 $a$ 莫耳的 A 和 $b$ 莫耳的 B，生成 $c$ 莫耳的 C 和 $d$ 莫耳的 D。
    根據質量守恆：**反應物總重 = 生成物總重**
    $$30a + 60b = 90c + W_D$$
    其中 $W_D$ (生成的 D 總重) $= 30a + 60b - 90c$。

2.  **步驟二：建立 A 與 D 的質量比例**
    在反應式係數的比例下：
    * 消耗 A 的質量 $= 30a$ 克
    * 生成 D 的質量 $= (30a + 60b - 90c)$ 克

3.  **步驟三：計算生成 100 克 D 所需的 A**
    設所需 A 的質量為 $x$ 克，利用比例法：
    $$\\frac{x}{100} = \\frac{30a}{30a + 60b - 90c}$$
    $$x = \\frac{3000a}{30a + 60b - 90c}$$

4.  **步驟四：化簡**
    分子分母同除以 30：
    $$x = \\frac{100a}{a + 2b - 3c}$$
                `
            },
            {
                id: "q05", number: 5, type: "單選",
                question: "根據氣體 X、Y、Z 的初始與平衡條件 (X: 0.1 → 0.05, Y: 0.2 → 0.05, Z: 0 → 0.1)，求反應式。",
                answer: "B",
                explanation: `
#### 解題思路：
化學反應式的係數比 = 莫耳數的**變化量** ($\Delta n$) 之比。

1.  **步驟一：計算變化量**
    * **X** (反應物): $0.1 - 0.05 = 0.05$ (消耗)
    * **Y** (反應物): $0.2 - 0.05 = 0.15$ (消耗)
    * **Z** (生成物): $0.1 - 0 = 0.1$ (生成)

2.  **步驟二：求最簡整數比**
    $$\Delta X : \Delta Y : \Delta Z = 0.05 : 0.15 : 0.1$$
    同除以 0.05 $\\rightarrow$ **$1 : 3 : 2$**

3.  **步驟三：寫出反應式**
    係數比為 1:3:2，故反應式應為：
    **$X + 3Y \\rightarrow 2Z$**

#### ⚠️ 題目解析補充：
本題計算出的正確答案應為 $X + 3Y \\rightarrow 2Z$。
然而選項 (B) 是 $3X + Y \\rightarrow 2Z$。這通常是因為題目表格中的 X 與 Y 數據欄位在出題時誤植對調了 (若 $\Delta X=0.15, \Delta Y=0.05$ 則答案為 B)。**依據嚴格計算，本題應無標準答案，但在考試中選項 (B) 為最接近的結構形式。**
                `
            },
            {
                id: "q06", number: 6, type: "單選",
                question: "乙烷 (C2H6) 和丙烷 (C3H8) 混合氣體燃燒得 26.4 克 CO2 及 15.3 克 H2O，求莫耳數比。",
                answer: "D",
                explanation: `
#### 解題思路：
利用碳(C)與氫(H)的原子守恆列聯立方程式求解。

1.  **步驟一：設定變數與計算產物莫耳數**
    * 設乙烷 ($C_2H_6$) 為 $x$ mol，丙烷 ($C_3H_8$) 為 $y$ mol。
    * $CO_2$ 莫耳數 $= 26.4 / 44 = 0.6$ mol。
    * $H_2O$ 莫耳數 $= 15.3 / 18 = 0.85$ mol。

2.  **步驟二：列原子守恆方程式**
    * **碳原子守恆** ($C_2$ 與 $C_3$ 生成 $C$):
        $$2x + 3y = 0.6 \\quad \\text{...(1)}$$
    * **氫原子守恆** ($H_6$ 與 $H_8$ 生成 $H_2O$):
        注意：1 mol 水含有 2 mol 氫原子。
        總氫原子數 $= 0.85 \\times 2 = 1.7$ mol。
        $$6x + 8y = 1.7 \\quad \\text{...(2)}$$

3.  **步驟三：解聯立**
    * 將式(1)乘以 3: $6x + 9y = 1.8 \\quad \\text{...(3)}$
    * 用式(3)減去式(2): $(6x+9y) - (6x+8y) = 1.8 - 1.7$
        $$y = 0.1$$
    * 代回式(1): $2x + 0.3 = 0.6 \\Rightarrow 2x = 0.3 \\Rightarrow x = 0.15$

4.  **步驟四：求比例**
    $$x : y = 0.15 : 0.1 = 3 : 2$$
                `
            },
            {
                id: "q07", number: 7, type: "單選",
                question: "關於氫氣燃燒與過氧化氫分解的熱化學反應敘述，何者錯誤？",
                answer: "C",
                explanation: `
#### 逐項檢視：
已知：
(1) $H_2 + 1/2 O_2 \\rightarrow H_2O(l) \\quad \\Delta H = -285.8 \\text{ kJ}$
(2) $H_2O_2(l) \\rightarrow H_2O(l) + 1/2 O_2 \\quad \\Delta H = -98.2 \\text{ kJ}$ (由題目 2 mol -196.4 推算)

* **(A) 正確**：1克 $H_2O_2$ 分解能放出多少熱？
    $H_2O_2$ 分子量 34。
    $\\frac{1}{34} \\text{ mol} \\times 98.2 \\text{ kJ/mol} \\approx 2.89 \\text{ kJ}$。
* **(B) 正確**：反應式係數與 $\Delta H$ 成正比。
* **(C) 錯誤**：
    題目說「2莫耳氫氣燃燒...放出 285.8 kJ」。
    事實上，方程式(1)顯示 **1 莫耳** 氫氣燃燒才放出 285.8 kJ。
    **2 莫耳氫氣應放出 $285.8 \\times 2 = 571.6 \\text{ kJ}$。**
* **(D) 正確**：1 莫耳 $H_2O_2$ 分解放出 98.2 kJ (即 $196.4 / 2$)。
                `
            },
            {
                id: "q08", number: 8, type: "單選",
                question: "0.5M 400mL 鹽酸與 0.5M 200mL 漂白水混合，求游泳池中氯氣的 ppm 濃度。",
                answer: "A",
                explanation: `
#### 解題思路：
先算限量試劑求出氯氣生成量，再計算濃度。

1.  **步驟一：計算莫耳數**
    * 鹽酸 ($HCl$): $0.5 \\text{ M} \\times 0.4 \\text{ L} = 0.2 \\text{ mol}$
    * 漂白水 ($NaOCl$): $0.5 \\text{ M} \\times 0.2 \\text{ L} = 0.1 \\text{ mol}$

2.  **步驟二：反應計量**
    反應式：$ClO^- + Cl^- + 2H^+ \\rightarrow Cl_2 + H_2O$
    係數比 $NaOCl : HCl = 1 : 1$ (注意：這裡若視為 $NaOCl$ 提供 $ClO^-$ 而 $HCl$ 提供 $Cl^-$ 和 $H^+$，淨反應需 $H^+$。一般漂白水混酸反應：$NaOCl + 2HCl \\rightarrow Cl_2 + NaCl + H_2O$)。
    係數比 $NaOCl : HCl = 1 : 2$。
    * $0.1 \\text{ mol } NaOCl$ 需要 $0.2 \\text{ mol } HCl$。
    * 兩者**恰好完全反應**。
    * 生成 $Cl_2$ 為 **0.1 mol**。

3.  **步驟三：計算 ppm**
    * $Cl_2$ 質量 $= 0.1 \\text{ mol} \\times 71 \\text{ g/mol} = 7.1 \\text{ g}$。
    * 池水體積 $= 100 \\times 50 \\times 2 = 10,000 \\text{ m}^3 = 10^7 \\text{ L}$。
    * 假設水密度為 1，池水重 $10^7 \\text{ kg} = 10^{10} \\text{ g}$。
    * $ppm = \\frac{\\text{溶質重(g)}}{\\text{溶液重(g)}} \\times 10^6$
    $$ppm = \\frac{7.1}{10^{10}} \\times 10^6 = 7.1 \\times 10^{-4} \\text{ ppm}$$
                `
            },
            {
                id: "q09", number: 9, type: "單選",
                question: "2ppm 臭氧稀釋至原體積 2 倍，求體積莫耳濃度。",
                answer: "D",
                explanation: `
#### 解題思路：
ppm 與 體積莫耳濃度 (M) 的換算。

1.  **步驟一：計算稀釋後濃度**
    體積變 2 倍，濃度減半。
    $2 \\text{ ppm} \\rightarrow 1 \\text{ ppm}$。

2.  **步驟二：單位換算**
    在稀薄水溶液中，**1 ppm $\\approx$ 1 mg/L**。
    故濃度為 $1 \\text{ mg/L} = 1 \\times 10^{-3} \\text{ g/L}$。

3.  **步驟三：計算體積莫耳濃度 (M)**
    臭氧 ($O_3$) 分子量 $= 16 \\times 3 = 48$。
    $$M = \\frac{\\text{重量濃度 (g/L)}}{\\text{分子量}}$$
    $$M = \\frac{1 \\times 10^{-3}}{48} \\approx 2.08 \\times 10^{-5} \\text{ M}$$
                `
            },
            {
                id: "q10", number: 10, type: "單選",
                question: "嗎啡燃燒係數平衡，求 a+b+c+d。",
                answer: "B",
                explanation: `
#### 解題思路：
平衡化學反應式：$a C_{17}H_{19}NO_3 + b O_2 \\rightarrow c CO_2 + d H_2O + e NO_2$。
題目問 $a+b+c+d$，但通常是指係數總和或特定係數。讓我們完整平衡。

1.  **步驟一：假定 $a=1$**
    $1 C_{17}H_{19}NO_3 + ... \\rightarrow ...$

2.  **步驟二：依序平衡 C, H, N**
    * C: 右邊 $CO_2$ 係數須為 **17**。
    * H: 左邊 19 個 H，右邊 $H_2O$ 係數須為 **19/2**。
    * N: 左邊 1 個 N，右邊 $NO_2$ 係數須為 **1**。

3.  **步驟三：平衡 O**
    * 右邊氧總數：$(17 \\times 2) + (19/2 \\times 1) + (1 \\times 2) = 34 + 9.5 + 2 = 45.5$。
    * 左邊嗎啡已有 3 個 O。
    * $O_2$ 需提供 $45.5 - 3 = 42.5$ 個 O。
    * $O_2$ 係數 $= 42.5 / 2 = 21.25 = 85/4$。

4.  **步驟四：整數化 (同乘 4)**
    $$4 C_{17}H_{19}NO_3 + 85 O_2 \\rightarrow 68 CO_2 + 38 H_2O + 4 NO_2$$

5.  **步驟五：計算係數和**
    題目若問的是 $O_2, CO_2, H_2O, NO_2$ 對應的係數和 (依題意推測)：
    $85 + 68 + 38 + 4 = \\mathbf{195}$。
                `
            },
            {
                id: "q11", number: 11, type: "單選",
                question: "承上題，求嗎啡純度。",
                answer: "D",
                explanation: `
#### 解題思路：
利用產生的 $CO_2$ 反推嗎啡的質量。

1.  **步驟一：計算 $CO_2$ 莫耳數**
    $$n_{CO_2} = \\frac{17.6 \\text{ g}}{44 \\text{ g/mol}} = 0.4 \\text{ mol}$$

2.  **步驟二：反推嗎啡莫耳數**
    由分子式 $C_{17}H_{19}NO_3$ 可知，1 莫耳嗎啡燃燒會產生 17 莫耳 $CO_2$ (碳原子守恆)。
    $$n_{\\text{嗎啡}} = \\frac{0.4}{17} \\approx 0.02353 \\text{ mol}$$

3.  **步驟三：計算嗎啡質量**
    嗎啡分子量 $M = (12\\times17) + (1\\times19) + 14 + (16\\times3) = 204+19+14+48 = 285$。
    $$W_{\\text{嗎啡}} = 0.02353 \\times 285 \\approx 6.71 \\text{ g}$$

4.  **步驟四：計算純度**
    樣品重 10g (題目第一句)。
    $$\\text{純度} = \\frac{6.71}{10} \\times 100\\% = 67.1\\%$$
                `
            },
            {
                id: "q12", number: 12, type: "單選",
                question: "NaOH 與 HCl 反應，加入 15g NaOH 時溶液中的物質？",
                answer: "A",
                explanation: `
#### 解題思路：
利用溫度變化圖判斷反應終點。

1.  **判斷當量點**：
    圖形最高溫點 (32°C) 對應加入 **20g** 的 NaOH，此時酸鹼恰好完全中和。

2.  **判斷反應情形**：
    題目問加入 **15g** NaOH。
    因為 $15\\text{g} < 20\\text{g}$ (完全反應所需量)，所以 **NaOH 是限量試劑 (被用光)**，而 **HCl 過量 (有剩餘)**。

3.  **溶液成分**：
    * **產物**：$NaCl, H_2O$ (一定有)。
    * **剩餘物**：$HCl$ (因為酸過量)。
    * **消失物**：$NaOH$ (已完全反應)。
    故答案選 (A) $NaCl, H_2O, HCl$。
                `
            },
            {
                id: "q13", number: 13, type: "單選",
                question: "加入 10g NaOH 時，溫度約為？",
                answer: "B",
                explanation: `
#### 解題思路：
反應放熱量與限量試劑的量成正比。

1.  **計算溫差變化**：
    * 起始溫度：20°C。
    * 最高溫度 (加入 20g NaOH 時)：32°C。
    * 最大溫差 $\\Delta T_{max} = 32 - 20 = 12^\\circ C$。

2.  **推算 10g 時的溫差**：
    加入 10g NaOH 剛好是完全反應量 (20g) 的**一半**。
    因此放出的熱量也是一半，造成的溫升也是一半。
    $$\\Delta T = 12 \\times \\frac{10}{20} = 6^\\circ C$$

3.  **求末溫**：
    $20 + 6 = \\mathbf{26^\\circ C}$。
                `
            },
            {
                id: "q14", number: 14, type: "單選",
                question: "1 分子蔗糖可得幾分子酒精？",
                answer: "D",
                explanation: `
#### 反應過程解析：
這是一個兩步驟的反應。

1.  **水解**：蔗糖 ($C_{12}H_{22}O_{11}$) 水解產生葡萄糖 ($C_6H_{12}O_6$)。
    $1 \\text{ 蔗糖} \\rightarrow 1 \\text{ 葡萄糖} + 1 \\text{ 果糖}$ (兩者分子式相同，皆可發酵)
    故 **1 分子蔗糖 $\\rightarrow$ 2 分子單醣 ($C_6H_{12}O_6$)**。

2.  **發酵**：
    $C_6H_{12}O_6 \\rightarrow 2 C_2H_5OH (酒精) + 2 CO_2$。
    **1 分子單醣 $\\rightarrow$ 2 分子酒精**。

3.  **總結**：
    $1 \\text{ 蔗糖} \\rightarrow 2 \\text{ 單醣} \\rightarrow 2 \\times 2 = \\mathbf{4 \\text{ 酒精}}$。
                `
            },
            {
                id: "q15", number: 15, type: "單選",
                question: "1 分子酒精完全燃燒消耗多少分子氧？",
                answer: "C",
                explanation: `
#### 解題思路：
平衡燃燒反應式。

$$C_2H_5OH + 3O_2 \\rightarrow 2CO_2 + 3H_2O$$

* 左邊：2 C, 6 H, 1 O (醇) + x O (氣)
* 右邊：2 CO2 (4 O) + 3 H2O (3 O) = 7 O
* 故 $O_2$ 係數需提供 $7 - 1 = 6$ 個氧原子 $\\rightarrow$ 3 個 $O_2$。

係數比 **酒精 : 氧氣 = 1 : 3**。
                `
            },
            {
                id: "q16", number: 16, type: "多選",
                question: "有機物含氧 16.05%，含硫 8.00%，分子量可能為？",
                answer: "DE",
                explanation: `
#### 解題思路：
利用元素重量百分比求原子個數比，並推算可能的分子量。

1.  **步驟一：求原子數比**
    假設取 100g 樣品。
    * $O = 16.05 \\text{ g} \\rightarrow 16.05 / 16 \\approx 1.00 \\text{ mol}$
    * $S = 8.00 \\text{ g} \\rightarrow 8.00 / 32 = 0.25 \\text{ mol}$
    * $O : S = 1 : 0.25 = 4 : 1$。
    故分子中至少含有一個單元 **$SO_4$**。

2.  **步驟二：推算最小分子量**
    若分子只含 1 個硫原子 (S=32)，則其總分子量 $M$ 滿足：
    $$\\frac{32}{M} = 8\\% = 0.08$$
    $$M = \\frac{32}{0.08} = 400$$

3.  **步驟三：檢查選項**
    分子量必須是 400 的整數倍 (若含 2 個 S 則為 800...)。
    * (D) 400 (可能，含 1 個 S)
    * (E) 800 (可能，含 2 個 S)
                `
            },
            {
                id: "q17", number: 17, type: "多選",
                question: "丙烷燃燒，體積從 100mL 變為 70mL (回復原狀)。",
                answer: "AD",
                explanation: `
#### 解題思路：
氣體體積變化問題。回復原狀(常溫常壓)意味著水是**液態** (體積忽略)。

反應式：$C_3H_8(g) + 5O_2(g) \\rightarrow 3CO_2(g) + 4H_2O(l)$

1.  **步驟一：假設未知數**
    設丙烷 $x$ mL，則氧氣為 $(100-x)$ mL。
    注意：氧氣必須過量才能完全燃燒丙烷，否則體積變化邏輯不同。

2.  **步驟二：反應計算**
    * 消耗：$x$ (丙烷) + $5x$ (氧氣) = $6x$ (氣體)
    * 生成：$3x$ ($CO_2$ 氣體)
    * 體積變化：減少了 $(1+5) - 3 = 3x$ 的氣體體積。
    * 題目說體積由 100 變 70，減少 30 mL。
    * $3x = 30 \\Rightarrow x = 10 \\text{ mL}$。

3.  **步驟三：檢查選項**
    * **(A) 正確**：反應前氣體 100 (10丙+90氧) $\\rightarrow$ 反應後 70 (0丙+40氧+30二氧)，分子數減少。
    * **(B) 錯誤**：反應後 $O_2$ 剩 $90 - 5(10) = 40$ mL。佔剩餘氣體 $40/70 \\approx 57\\%$。
    * **(D) 正確**：若在**高溫 (水為氣態)** 下，生成 $H_2O(g)$ 體積為 $4x = 40$ mL。剩餘 $O_2$ 也是 40 mL。兩者分子數(體積)相同。
                `
            },
            {
                id: "q18", number: 18, type: "多選",
                question: "CnH(2n+2)O 燃燒生成 4 CO2 與 5 H2O。",
                answer: "CDE",
                explanation: `
#### 解題思路：
由產物反推分子式。

1.  **推導分子式**：
    * 生成 $4 CO_2 \\rightarrow$ 分子含 4 個 C。
    * 生成 $5 H_2O \\rightarrow$ 分子含 10 個 H。
    * 符合通式 $C_n H_{2n+2} O$ ($n=4 \\rightarrow H=10$)。
    * 分子式為 **$C_4H_{10}O$**。

2.  **選項分析**：
    * (A)(B) 錯誤：簡式與分子式皆為 $C_4H_{10}O$。
    * **(C) 正確**：分子量 $= (12\\times4) + (1\\times10) + 16 = 48+10+16 = 74$。
    * **(D) 正確**：碳含量 $\\% = 48/74 \\approx 64.9\\%$。
    * **(E) 正確**：$C_4H_{10}O$ 可表示飽和一元醇 (如丁醇 $C_4H_9OH$) 或醚。
                `
            },
            {
                id: "q19", number: 19, type: "多選",
                question: "太空梭燃料反應計算。",
                answer: "ABC",
                explanation: `
#### 解題思路：
計量化學問題，先寫出平衡反應式。
燃料為二甲基聯 (uns-dimethylhydrazine, $C_2H_8N_2$)，氧化劑為四氧化二氮 ($N_2O_4$)。

反應式：$1 C_2H_8N_2 + 2 N_2O_4 \\rightarrow 3 N_2 + 2 CO_2 + 4 H_2O$

題目：燃燒 **0.5 mol** 的燃料。

* **(A) 正確**：需 $N_2O_4$ $0.5 \\times 2 = 1$ mol。質量 $= 1 \\times (28+64) = 92 \\text{ g}$。
* **(B) 正確**：生成 $CO_2$ $0.5 \\times 2 = 1$ mol。STP下體積 22.4 L。
* **(C) 正確**：生成 $N_2$ $0.5 \\times 3 = 1.5$ mol。質量 $= 1.5 \\times 28 = 42 \\text{ g}$。
* **(D) 疑義**：生成水 $0.5 \\times 4 = 2$ mol。分子數 $= 2 \\times 6.02 \\times 10^{23} = 1.204 \\times 10^{24}$。數字上正確，若題目未選此項，可能是題目問「錯誤」或是選項數字有細微誤植(如 $10^{23}$)。**依計算結果此敘述應為正確。**
* **(E) 錯誤**：生成氣體總莫耳數 $= N_2 + CO_2 + H_2O$ (高溫下水為氣態) $= 1.5 + 1 + 2 = 4.5$ mol。若僅算 $N_2+CO_2$ 則為 2.5 mol。
                `
            },
            {
                id: "q20", number: 20, type: "多選",
                question: "光合作用與呼吸作用能量圖。",
                answer: "ABD",
                explanation: `
#### 觀念解析：
* **(A) 正確**：光合作用吸收太陽能，$\Delta H > 0$ (吸熱)。
* **(B) 正確**：呼吸作用氧化葡萄糖產生能量，$\Delta H < 0$ (放熱)。
* (C) 錯誤：光合作用是將**光能**轉換為化學能，而非熱能。
* **(D) 正確**：吸熱反應的熱量 (能量) 寫在反應物端。
                `
            },
            {
                id: "q21", number: 21, type: "多選",
                question: "氫氣燃燒能量圖推論。",
                answer: "BCE",
                explanation: `
#### 觀念解析：
參考常見熱化學方程式。
* $H_2(g) + 1/2 O_2(g) \\rightarrow H_2O(l) \\quad \\Delta H = -285.8 \\text{ kJ}$
* $H_2(g) + 1/2 O_2(g) \\rightarrow H_2O(g) \\quad \\Delta H = -241.8 \\text{ kJ}$

* (A) 錯誤：分解水需吸熱，$\Delta H$ 應為正值 (+285.8)，且式中寫 +Q 於生成物端代表放熱，矛盾。
* **(B) 正確**：生成水蒸氣放熱較少 (-241.8)。
* **(C) 正確**：$H_2O(l) \\rightarrow H_2O(g)$ 為汽化，需吸熱。
    $\Delta H = \Delta H_f(g) - \Delta H_f(l) = -241.8 - (-285.8) = +44.0 \\text{ kJ}$。
* (D) 錯誤：方程式將熱量寫在反應物端 (+571.6) 代表吸熱，但燃燒應為放熱。
* **(E) 正確**：標準生成熱定義。
                `
            },
            {
                id: "q22", number: 22, type: "多選",
                question: "物質三態與冷熱敷包。",
                answer: "ABE",
                explanation: `
#### 觀念解析：
* **(A) 正確**：圖一(a) 能量由高變低，$\Delta H < 0$，為**放熱反應** (如熱敷包、凝固、凝結)。
* **(B) 正確**：圖一(b) 能量由低變高，$\Delta H > 0$，為**吸熱反應** (如冷敷包、熔化、汽化)。
* (C) 錯誤：固變液 (熔化) 需要吸熱，應對應圖一(b)。
* (D) 錯誤：固變氣 (昇華) 需要吸熱。
* **(E) 正確**：一般而言，同一物質的熱含量 (焓)：氣態 > 液態 > 固態。
                `
            },
            {
                id: "q23", number: 23, type: "多選",
                question: "A+B → C+D 對應放熱圖 (圖一a)。",
                answer: "CD",
                explanation: `
#### 觀念解析：
放熱反應定義：**反應物總熱含量 > 生成物總熱含量**。
即 $H_{反應物} > H_{生成物}$。

* (A)(B) 錯誤：圖形顯示反應物能量較高。
* **(C) 正確**：$H(A+B) > H(C+D)$。
* **(D) 正確**：既然 A+B 的能量大於 C+D 的總和，而 D 的生成熱通常為實數，邏輯上 A+B 的能量位階確實高於 C 單獨的位階 (除非 D 吸收了極大量能量導致 C 變極低，但一般圖形解釋上反應物總能最高)。
                `
            },
            {
                id: "q24", number: 24, type: "多選",
                question: "吸熱與放熱比較。",
                answer: "ADE",
                explanation: `
#### 逐項檢視：
* **(A) 正確**：暖暖包 (鐵粉氧化) 是放熱反應。
* (B) 錯誤：放熱反應是指「淨能量」釋放，但**啟動反應** (活化能) 仍可能需要加熱 (例如燃燒紙張需要先點火)。
* (C) 錯誤：反應熱大小 ($|\Delta H|$) 與反應速率快慢無絕對關係 (速率由活化能決定)。
* **(D) 正確**：冷敷包 (如硝酸銨溶於水) 是吸熱反應。
* **(E) 正確**：燃燒反應定義上必為放熱。
                `
            },
            {
                id: "q25", number: 25, type: "多選",
                question: "膠體溶液性質。",
                answer: "BDE",
                explanation: `
#### 觀念解析：
* (A) 錯誤：布朗運動是膠體粒子受到**分散媒 (溶劑) 分子**不對稱撞擊而產生的，非粒子互撞。
* **(B) 正確**：膠體粒子帶電，加入電解質會中和電荷，導致凝聚 (鹽析/凝聚)。
* (C) 錯誤：膠體溶液相對安定，靜置**不易**沉澱 (除非長時間或受外力)。懸浮液才會容易沉澱。
* **(D) 正確**：廷得耳效應 (Tyndall effect) 是膠體散射光線的現象。
* **(E) 正確**：膠體粒子表面積大，容易吸附溶液中的離子而帶電。
                `
            }
        ];

        // --- 2. React Components (Unchanged) ---
        // Custom Component to render Lucide Icons safely
        const LucideIcon = ({ name, size = 24, className = "" }) => {
            const [svgHtml, setSvgHtml] = React.useState("");

            React.useEffect(() => {
                if (window.lucide && window.lucide.icons && window.lucide.createElement) {
                    const pascalName = name
                        .split('-')
                        .map(part => part.charAt(0).toUpperCase() + part.slice(1))
                        .join('');

                    const iconDef = window.lucide.icons[pascalName];
                    if (iconDef) {
                        try {
                            const element = window.lucide.createElement(iconDef);
                            element.setAttribute('width', size);
                            element.setAttribute('height', size);
                            if (className) {
                                element.setAttribute('class', className);
                            }
                            setSvgHtml(element.outerHTML);
                        } catch (e) {
                            console.error(`Error creating icon ${name}:`, e);
                        }
                    }
                }
            }, [name, className, size]);

            return (
                <span
                    dangerouslySetInnerHTML={{ __html: svgHtml }}
                    style={{ display: 'inline-flex', alignItems: 'center' }}
                />
            );
        };

        const MarkdownText = ({ text }) => {
            const [htmlContent, setHtmlContent] = React.useState("");

            React.useEffect(() => {
                if (!text) return;

                let processed = text
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\n/g, '<br/>');

                if (window.katex) {
                    processed = processed.replace(/\$\$(.*?)\$\$/g, (match, formula) => {
                        try {
                            return katex.renderToString(formula, { displayMode: true, throwOnError: false });
                        } catch (e) {
                            return match;
                        }
                    });
                    processed = processed.replace(/\$(.*?)\$/g, (match, formula) => {
                        try {
                            return katex.renderToString(formula, { displayMode: false, throwOnError: false });
                        } catch (e) {
                            return match;
                        }
                    });
                }
                setHtmlContent(processed);
            }, [text]);

            return (
                <div
                    className="explanation-text text-gray-700"
                    dangerouslySetInnerHTML={{ __html: htmlContent }}
                />
            );
        };

        const QuestionCard = ({ question, isSelected, onClick }) => {
            return (
                <div
                    onClick={onClick}
                    className={`p-4 mb-3 rounded-lg cursor-pointer transition-all border-l-4 ${isSelected
                        ? 'bg-blue-50 border-blue-600 shadow-md'
                        : 'bg-white border-gray-200 hover:border-blue-300 hover:bg-gray-50'
                        }`}
                >
                    <div className="flex justify-between items-center mb-1">
                        <span className={`text-xs font-bold px-2 py-1 rounded ${question.type === '單選' ? 'bg-green-100 text-green-700' : 'bg-purple-100 text-purple-700'
                            }`}>
                            {question.type}
                        </span>
                        <span className="text-gray-400 text-sm">#{question.number}</span>
                    </div>
                    <p className="text-gray-800 font-medium truncate">
                        {question.question.substring(0, 30)}...
                    </p>
                </div>
            );
        };

        const DetailView = ({ question }) => {
            const [showAnswer, setShowAnswer] = React.useState(false);

            React.useEffect(() => {
                setShowAnswer(false);
            }, [question]);

            if (!question) {
                return (
                    <div className="flex flex-col items-center justify-center h-full text-gray-400">
                        <div className="opacity-50 mb-4">
                            <LucideIcon name="flask-conical" size={64} />
                        </div>
                        <p>請從左側選擇一題以查看解析</p>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-xl shadow-lg p-6 h-full overflow-y-auto">
                    <div className="border-b pb-4 mb-4">
                        <div className="flex items-center gap-3 mb-2">
                            <span className="bg-gray-800 text-white text-xs px-2 py-1 rounded">第 {question.number} 題</span>
                            <span className="text-gray-500 text-sm">{question.type}</span>
                        </div>
                        <h2 className="text-xl font-bold text-gray-800 leading-relaxed">
                            {question.question}
                        </h2>
                    </div>

                    <div className="mb-6">
                        <div className="flex items-center justify-between mb-2">
                            <h3 className="text-lg font-semibold text-gray-700">答案</h3>
                            <button
                                onClick={() => setShowAnswer(!showAnswer)}
                                className="text-sm text-blue-600 hover:text-blue-800 underline"
                            >
                                {showAnswer ? '隱藏答案' : '顯示答案'}
                            </button>
                        </div>

                        <div className={`p-4 rounded-lg transition-all duration-300 ${showAnswer ? 'bg-green-50 text-green-800 border border-green-200' : 'bg-gray-100 text-transparent select-none'
                            }`}>
                            <span className="text-2xl font-bold">{question.answer}</span>
                        </div>
                    </div>

                    <div>
                        <h3 className="text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2">
                            <span>💡 詳細解析</span>
                        </h3>
                        <div className="bg-gray-50 p-5 rounded-lg border border-gray-100">
                            <MarkdownText text={question.explanation} />
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [questions, setQuestions] = React.useState(staticQuestions);
            const [selectedId, setSelectedId] = React.useState(null);

            // Icons
            const selectedQuestion = questions.find(q => q.id === selectedId);

            return (
                <div className="flex flex-col h-screen overflow-hidden">
                    {/* Header */}
                    <header className="bg-gradient-to-r from-blue-700 to-blue-900 text-white p-4 shadow-md flex justify-between items-center z-10">
                        <div className="flex items-center gap-3">
                            <LucideIcon name="atom" size={32} />
                            <div>
                                <h1 className="text-xl font-bold">114-1 高一化學期中考</h1>
                                <p className="text-xs text-blue-200">試題解析資料庫</p>
                            </div>
                        </div>
                        <div className="flex items-center gap-4">
                            <div className="text-xs text-blue-300 bg-blue-800 px-2 py-1 rounded">
                                靜態發佈版
                            </div>
                        </div>
                    </header>

                    {/* Main Body */}
                    <div className="flex flex-1 overflow-hidden">
                        {/* Sidebar */}
                        <aside className="w-full md:w-1/3 lg:w-1/4 bg-gray-50 border-r border-gray-200 overflow-y-auto p-4">
                            <div className="mb-4">
                                <h2 className="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">題目列表</h2>
                                {questions.map(q => (
                                    <QuestionCard
                                        key={q.id}
                                        question={q}
                                        isSelected={selectedId === q.id}
                                        onClick={() => setSelectedId(q.id)}
                                    />
                                ))}
                            </div>
                        </aside>

                        {/* Detail Area */}
                        <main className="hidden md:block flex-1 bg-gray-100 p-4 md:p-8 overflow-hidden relative">
                            <DetailView question={selectedQuestion} />
                        </main>

                        {/* Mobile Detail Overlay */}
                        {selectedId && (
                            <div className="md:hidden fixed inset-0 bg-gray-100 z-20 flex flex-col">
                                <div className="bg-white p-4 shadow flex items-center gap-2">
                                    <button onClick={() => setSelectedId(null)} className="p-2 -ml-2 text-gray-600">
                                        <LucideIcon name="arrow-left" size={20} />
                                    </button>
                                    <span className="font-bold">題目詳解</span>
                                </div>
                                <div className="flex-1 p-4 overflow-y-auto">
                                    <DetailView question={selectedQuestion} />
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>
